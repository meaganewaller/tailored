<!-- WardrobeItem Item -->
<li id="<%= dom_id wardrobe_item %>" class="relative flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white">
  <div class="aspect-h-4 aspect-w-3 bg-gray-200 sm:aspect-none sm:h-96">
    <!-- Item image -->
    <% if wardrobe_item.images.any? %>
      <%= image_tag wardrobe_item.images.first, alt: wardrobe_item.name, class: "h-full w-full object-cover object-center sm:h-full sm:w-full" %>
    <% else %>
      <% image_tag "placeholder_image.jpg", alt: "No Image Available", class: "h-full w-full object-cover object-center sm:h-full sm:w-full" %>
    <% end %>
  </div>

  <!-- Item details -->
  <div class="flex flex-1 flex-col space-y-2 p-4">
    <!-- Item Name and Category -->
    <h3 class="text-sm font-medium text-gray-900">
      <span aria-hidden="true" class="absolute inset-0"></span>
      <%= wardrobe_item.name.presence || "Unnamed Item" %>
    </h3>
    <p class="text-sm text-gray-500"><%= wardrobe_item.category&.name %></p>

    <!-- Item Attributes (optional) -->
    <div class="flex flex-1 flex-col justify-end">
      <% if wardrobe_item.colors.any? %>
        <% wardrobe_item.colors.each do |color_info| %>
          <div class="h-4 w-4 rounded-full border" style="background-color: <%= color_info["hex"] %>;" title="Hex: <%= color_info['hex'] %>, Score: <%= (color_info['score'] * 100).round(2) %>%">
            <!-- Accessible tooltip for score -->
            <span class="sr-only"><%= color_info["score"] %></span>
          </div>
        <% end %>
      <% else %>
        <p class="text-gray-500 text-sm"><em>No colors detected</em></p>
      <% end %>
    </div>

    <!-- Action Buttons -->
    <div class="mt-4 flex justify-between items-center" data-controller="accordion">
      <button class="text-sm text-gray-500 hover:text-gray-700" data-action="accordion#toggle" data-accordion-target="icon">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
      </button>
      <div data-accordion-target="content" class="collapsed">
        <p>The accordion is open!</p>
      </div>
    </div>
  </div>
</li>
